
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="Das Blog von Marcel. Anscheinend schreibt er dort über interessante Dinge." name="description">
		<meta content="Marcel Langer" name="author">
		
		<title>Category: Beleuchtung &mdash; Lumenlog</title>
		
		<link href="humans.txt" rel="author" type="text/plain">
		<link href="/favicon.png" rel="icon">
		<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
		<link href="/stylesheets/style.css" rel="stylesheet">
		<link href="http://feeds.feedburner.com/lumenlog" rel="alternate" title="Lumenlog" type="application/rss+xml" />
		<script type="text/javascript" src="http://use.typekit.com/daj0gkz.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
		<script type="text/javascript">
		/* <![CDATA[ */
		    (function() {
        	var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
	        s.type = 'text/javascript';
    	    s.async = true;
        	s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
	        t.parentNode.insertBefore(s, t);
    		})();
		/* ]]> */
		</script>
		<script src="/mint/?js" type="text/javascript"></script>
	</head>
	<body>
		<div id="wrapper">
			<header class="row instapaper_ignore">
				<h1 id="site-title"><a class="site-link" href="/">Lumenlog.</a></h1>
			</header>
			<div id="main">
					
		<header>
			<h2 id="page-title">Category: Beleuchtung</h2>
		</header>
	

		<div class="archive">
	
	
	
	  
	  <h2 class="year">2010</h2>
	
	<article class="link archive-article">
	<header>
		
			<h1 class="link-title">
				<a href="http://www.multimediaxis.de/showthread.php?p=2497191#post2497191">Sichtbare Wasserfälle im Interior</a>
				<a class="permalink" href="/post/sichtbare-wasserfalle-im-interior/">∞</a>
			</h1>
		
	</header>
	
	<section class="content">
		<p>Trebrons Lösung für eines der nervigsten Probleme von Oblivion. Ich habe bisher immer die Ambient-Beleuchtung der Zelle geändert, aber so ist es natürlich viel eleganter.</p>

	</section>
	
	<footer>
		<span class="date">12.01.2010</span>
		
		

<span class="categories"> —  
  
    <a class='category' href='/tag/beleuchtung/'>Beleuchtung</a>, <a class='category' href='/tag/interior/'>Interior</a>, <a class='category' href='/tag/leveldesign/'>Leveldesign</a>, <a class='category' href='/tag/links/'>Links</a>, <a class='category' href='/tag/trebron/'>Trebron</a>
  
</span>

	</footer>
</article>

	
	
	
	  
	  <h2 class="year">2009</h2>
	
	<article class="link archive-article">
	<header>
		
			<h1 class="link-title">
				<a href="http://lumenlog.com/images/2009/09/WaterfallInterior.PNG">Wasserfälle im Interior</a>
				<a class="permalink" href="/post/wasserfalle-im-interior/">∞</a>
			</h1>
		
	</header>
	
	<section class="content">
		<p>Ist mir gerade aufgefallen: Wasserfälle werden in Interiors angezeigt, wenn man das Ambient-Lighting einschaltet. Der Wert muss nicht sehr groß sein, so ungefähr 50 reicht schon. Für die meisten von euch mag das nichts Neues sein, mir hat diese Entdeckung aber gerade den Tag gerettet.</p>

	</section>
	
	<footer>
		<span class="date">17.09.2009</span>
		
		

<span class="categories"> —  
  
    <a class='category' href='/tag/beleuchtung/'>Beleuchtung</a>, <a class='category' href='/tag/links/'>Links</a>, <a class='category' href='/tag/modding/'>Modding</a>, <a class='category' href='/tag/oblivion/'>Oblivion</a>
  
</span>

	</footer>
</article>

	
	
	
	<article class="link archive-article">
	<header>
		
			<h1 class="link-title">
				<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/eleyon08.jpg">Tageszeitabhängige Beleuchtung</a>
				<a class="permalink" href="/post/tageszeitabhangige-beleuchtung-tutorial/">∞</a>
			</h1>
		
	</header>
	
	<section class="content">
		<p>Nachdem wir ja schon zu dem Schluss gekommen sind, das tageszeitabhängige Beleuchtung nicht nur ein langes Wort, sondern auch eine gute Sache ist, beenden wir dieses Thema mit einem Tutorial. Das hier ist die Methode, die ich für Eleyon verwende. Viel Spaß beim Einbauen!</p>

<p>Bevor wir im CS anfangen können, brauchen wir zuerst die passenden Modelle. Für die Kerzen liefert uns Oblivion schon ausgeschaltete Versionen mit, bei den Fenstern ist die nicht so einfach. Hier muss man seine Photoshop oder Gimp-Kenntnisse herausholen. Darauf gehe ich hier nicht näher ein, das würde wohl den Rahmen dieses Tutorials sprengen. Ein orangenes Einfärben der nächtlichen Version und ein wenig mehr Sättigung sind in den meisten Fällen auch schon ausreichend. Das Internet ist für Tutorials zu diesem Thema ein sehr gute Quelle.</p>

<p>Gut, die in Eleyon benutzten Fenstertexturen stammen aus den Fenstern der Dementia-Hütten von Shivering Isles und sehen so aus:</p>

<!--more-->


<p>[caption id="attachment_310" align="aligncenter" width="500" caption="Die Fenster von Eleyon. Links die Version für den Tag, rechts die beleuchtete für die Nacht."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/fenster.png"><img class="size-medium wp-image-310" title="fenster" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/fenster-500x312.png" alt="Die Fenster von Eleyon. Links die Version für den Tag, rechts die beleuchtete für die Nacht." width="500" height="312" /></a>[/caption]</p>

<p>Nun kommen wir zu den benötigten Meshes - man muss die Fenster ja unabhängig von dem Rest des Hauses enablen und disablen können. Der Dank für diese Methode geht an Haldor und Trebron vom Orden-Team.
Also, zuerst suchen wir uns das NiTriStrip, in dem die Fenster liegen. Dieses NiTriStrip klicken wir nun rechts an und wählen "Copy Branch".</p>

<p>[caption id="attachment_312" align="alignnone" width="400" caption="Und &quot;Copy Branch&quot;..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/copybranch.png"><img class="size-thumbnail wp-image-312" title="copybranch" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/copybranch-400x250.png" alt="Und &quot;Copy Branch&quot;..." width="400" height="250" /></a>[/caption]</p>

<p>Dann löschen wir es und speichern das Mesh als Grundmesh des Hauses ab.</p>

<p>[caption id="attachment_319" align="alignnone" width="400" caption="Und weg mit den Fenstern!"]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/rembranch.png"><img class="size-thumbnail wp-image-319" title="rembranch" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/rembranch-400x250.png" alt="Und weg mit den Fenstern!" width="400" height="250" /></a>[/caption]</p>

<p>[caption id="attachment_313" align="alignnone" width="400" caption="Speichern als Variante ohne Fenster..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/saveasnowindow.png"><img class="size-thumbnail wp-image-313" title="saveasnowindow" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/saveasnowindow-400x250.png" alt="Speichern als Variante ohne Fenster..." width="400" height="250" /></a>[/caption]</p>

<p>Danach einen Rechtsklick auf das mit einer Null markierten NiNode und "Paste Branch".</p>

<p>[caption id="attachment_318" align="alignnone" width="400" caption="Paste Branch..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/paste.png"><img class="size-thumbnail wp-image-318" title="paste" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/paste-400x250.png" alt="Paste Branch..." width="400" height="250" /></a>[/caption]</p>

<p>Damit fügen wir die Fenster wieder ein. Nun löschen wir alle anderen NiTriStrips außer dem Fenster. Und dazu noch das bhkCollisionObject.</p>

<p>[caption id="attachment_321" align="alignnone" width="400" caption="Und auch kein Collision Object mehr..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/nocobject.png"><img class="size-thumbnail wp-image-321" title="nocobject" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/nocobject-400x250.png" alt="Und auch kein Colission Object mehr..." width="400" height="250" /></a>[/caption]</p>

<p>Damit sind wir beinahe fertig - wir müssen nur noch die Kollisionsberechnung ausschalten, was wir tun, indem wir erst unter "View" die Block Details sichtbar machen, die BSXFlags anklicken und auf das kleine Fähnchen nach uint klicken. Dann schalten wir "Enable Collision" aus und fertig.</p>

<p>[caption id="attachment_316" align="alignnone" width="400" caption="Enable Collision wird ausgeschaltet."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/enablecol.png"><img class="size-thumbnail wp-image-316" title="enablecol" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/enablecol-400x250.png" alt="Enable Colission muss aus..." width="400" height="250" /></a>[/caption]</p>

<p>Nun können wir endlich die passenden Texturen zuweisen. Die Tagesvariante kann entweder ihre vorhandenen Texturen behalten oder eigene bekommen. Normalerweise ist die Standard-Textur aber vollkommen geeignet, nur für die Nacht muss sie einen orangenen Farbton und eine höhere Sättigung erreichen.
Was nun noch fehlt ist die Emissive Color, die für die Tagesfenster auf Schwarz belassen werden kann.
Damit haben wir die Fenster für den Tag fertig, jetzt weisen wir ihnen noch die nächtlichen Texturen zu und speichern sie separat ab. Um die Fenster auch aus der Ferne leuchtend erscheinen zu lassen, setzen wir die Emissive Color auf Weiß (#ffffff).</p>

<p>[caption id="attachment_315" align="alignnone" width="400" caption="Die Emissive Color für den Tag..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/emissivecolorday.png"><img class="size-thumbnail wp-image-315" title="emissivecolorday" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/emissivecolorday-400x250.png" alt="Die Emissive Color für den Tag..." width="400" height="250" /></a>[/caption]</p>

<p>Jetzt sollten wir drei verschiedene Meshes erzeugt haben: eines ohne Fenster, eines nur mit den unbeleuchteten und eines mit den beleuchteten Fenstern. Bevor wir nun ins Construction Set springen und dort weitermachen, gönnen wir uns eine kleine Pause. Trinken einen Schluck, holen einmal tief Luft.</p>

<p>Okay, zuerst binden wir die Meshes ein. Das sollte ja nicht allzu schwierig sein. Der Typ ist mehr oder weniger egal, das Haus auf jeden Fall als Static, die Fenster kann man auch als Activator einbinden. Macht aber für unsere Methode keinen Unterschied.
[caption id="attachment_429" align="alignnone" width="400" caption="Alle drei Meshes sind eingebunden"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/eingebunden.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/eingebunden-400x250.png" alt="Alle drei Meshes sind eingebunden" title="eingebunden" width="400" height="250" class="size-thumbnail wp-image-429" /></a>[/caption]
Nun brauchen wir noch die "Meister-Referenzen", die als Parent für die Fenster fungieren. Dazu suchen wir uns irgendein Objekt, ich habe mal einen Activator genommen und machen eine neue Version von ihm, die wir passend bennen. Nun erstellen wir uns eine neue Interior-Zelle, in der wir später schnell die Referenzen wiederfinden können. Am Besten ist es, wenn diese Zelle einen Namen bekommt, der sie ganz an den Anfang des Alphabets befördert. So wie "000LightingCell" oder ähnliches. Nun ziehen wir unseren Activator zweimal in diese Zelle. Und klicken beide Referenzen an und geben ihnen einzigartige, leicht erkennbare IDs, zum Beispiel "XRefDay" und "XRefNight". Diese müssen allerdings, soweit ich weiß, mit einem Buchstaben beginnen. Auf keinen Fall dürfen wir vergessen, das Kreuz bei "Persistent Reference" zu machen.
[caption id="attachment_430" align="alignright" width="400" caption="Wir haben eine neue Zelle und eine neue Version des Straßenschildes von Anvil erstellt. In die Zelle haben wir zweimal das Schild gezogen und den beiden Referenzen jeweils eindeutige IDs gegeben. Auf keinen Fall \"Persistens References\" vergessen!"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/referenzen.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/referenzen-400x250.png" alt="Wir haben eine neue Zelle und eine neue Version des Straßenschildes von Anvil erstellt. In die Zelle haben wir zweimal das Schild gezogen und den beiden Referenzen jeweils eindeutige IDs gegeben. Auf keinen Fall &quot;Persistens References&quot; vergessen!" title="referenzen" width="400" height="250" class="size-thumbnail wp-image-430" /></a>[/caption]
In dem Bild habe ich eine neue Zelle und eine neue Version des Straßenschildes von Anvil erstellt. In die Zelle wurde zweimal das Schild gezogen und den beiden Referenzen jeweils eindeutige IDs verpasst.</p>

<p>Bevor wir nun die Fenster und Häuser platzieren, müssen wir uns noch um das Scripting kümmern. Zuerst das Script, das ja recht simpel aufgebaut ist:</p>

<p>scn 0LightingScript</p>

<p>float fQuestDelayTime</p>

<p>begin gamemode</p>

<p>set fQuestDelayTime to 60</p>

<p>; Tag aber neblig -> Lichter an
if ( gamehour >= 6 || gamehour &lt; 21 ) &amp;&amp; ( GetIsCurrentWeather Fog == 1 )</p>

<pre><code>XRefDay.disable
XRefNight.enable
</code></pre>

<p>;    Message "On."
endif</p>

<p>; Tag -> aus
if ( gamehour >= 6 || gamehour &lt; 21 ) &amp;&amp; ( GetIsCurrentWeather Fog != 1 )</p>

<pre><code>XRefDay.enable
XRefNight.disable
</code></pre>

<p>;    Message "Off."
endif</p>

<p>; Nacht -> an
if gamehour >= 21 || gamehour &lt; 6</p>

<pre><code>XRefDay.disable
XRefNight.enable
</code></pre>

<p>;    Message "On."
endif</p>

<p>end</p>

<p><strong>Die Wetterabfrage hat anscheinend, wie Trebron in einem Kommentar zum letzten Post mitteilte, im Zusammenspiel mit Wettermods Abstürze zur Folge. Kann das jemand bestätigen?</strong></p>

<p>Dieses Script speichern wir nun als QuestScript und bauen uns einen passenden Quest dazu, den wir beliebig nennen und ihm das Script verpassen. Wollen wir die tageszeitabhängige Beleuchtung nun anschalten, müssen wir nur in der Konsole "StartQuest MeinQuestName" eingeben.
[caption id="attachment_431" align="alignnone" width="400" caption="Das Questscript wird eingebunden"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/questscript.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/questscript-400x250.png" alt="Das Questscript wird eingebunden" title="questscript" width="400" height="250" class="size-thumbnail wp-image-431" /></a>[/caption]
Gut, jetzt binden wir unsere Beleuchtung endlich ein. Zuerst stellen wir ein Haus in die Landschaft, das noch keine Fenster hat. Dann klicken wir es doppelt an und schieben das aufgehende Fenster nach oben, so dass es über das Renderfenster herausragt.
[caption id="attachment_432" align="alignnone" width="400" caption="Das Haus steht!"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/hauseingebaut.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/hauseingebaut-400x250.png" alt="Das Haus steht!" title="hauseingebaut" width="400" height="250" class="size-thumbnail wp-image-432" /></a>[/caption]
Nun ziehen wir unsere beiden Fenster in das Renderfenster und klicken das erste doppelt an und bewegen das Fenster nach oben. Das gleiche tun wir auch mit dem zweiten Fenster. Jetzt kann man auch den Grund sehen, warum wir die Fenster nach oben geschoben haben: wären sie weiter unten, würden sie vom wieder vom in den Vordergrund springenden Renderfenster verdeckt werden.
[caption id="attachment_433" align="alignnone" width="400" caption="So sind unsere Fenster dann angeordnet"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/fensteranordnung.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/fensteranordnung-400x250.png" alt="So sind unsere Fenster dann angeordnet" title="fensteranordnung" width="400" height="250" class="size-thumbnail wp-image-433" /></a>[/caption]
Gut, nun haben wir unsere drei Fenster nebeneinander offen. Als erstes geben wir den Fenstern ihre passenden Parents, indem wir auf "Enable Parent" gehen, unsere Zelle auswählen und die passende Referenz auswählen. Nun fehlt nur noch die Positionierung. Dazu übertragen wir die Positionsdaten des Hausmeshes auf die jeweiligen Fenstermeshes. Dazu haben wir die Fenster alle nebeneinander geöffnet, das erspart viel Klickerei. Ein Hinweis noch an dieser Stelle: nach dem Einfügen (mit Strg + V) der letzten Zahl muss man noch einmal in ein anderes Feld klicken, damit auch dieser Wert übernommen wird. Danach schließen wir die drei Fenster und haben unser Haus erfolgreich mit nachts leuchtenden Fenstern ausgestattet!
[caption id="attachment_440" align="alignnone" width="400" caption="Die Parents werden gesetzt. Die leuchtenden Fenster müssen nachts angehen..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/parents1.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/parents1-400x250.png" alt="Die Parents werden gesetzt. Die leuchtenden Fenster müssen nachts angehen..." title="parents1" width="400" height="250" class="size-thumbnail wp-image-440" /></a>[/caption]
[caption id="attachment_435" align="alignnone" width="400" caption="Alle haben die gleichen Positionsdaten..."]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/allegleich.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/allegleich-400x250.png" alt="Alle haben die gleichen Positionsdaten..." title="allegleich" width="400" height="250" class="size-thumbnail wp-image-435" /></a>[/caption]
[caption id="attachment_436" align="alignnone" width="400" caption="Unser Haus hat Fenster!"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/hausmitfenstern.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/hausmitfenstern-400x250.png" alt="Unser Haus hat Fenster!" title="hausmitfenstern" width="400" height="250" class="size-thumbnail wp-image-436" /></a>[/caption]
Bravo. Geschafft. Jetzt fehlt nur noch, dass unsere Fenster auch nachts Licht ausstrahlen, das die Umgebung beleuchtet. Dazu machen wir uns einfach eine neue Lichtquelle unter "Lights", die aussieht wie eine große Glühbirne und orange leuchtet. Von diesen Glühbirnen positionieren wir jeweils eine vor jedem Fenster und geben allen die Nacht-Referenz als Parent.
[caption id="attachment_437" align="alignnone" width="400" caption="In der Nacht gibt es auch Licht!"]<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/lichtvorfenstern.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/lichtvorfenstern-400x250.png" alt="In der Nacht gibt es auch Licht!" title="lichtvorfenstern" width="400" height="250" class="size-thumbnail wp-image-437" /></a>[/caption]
Alle anderen Objekte, die von der Tageszeit abhängig sein müssen, können wir auch mit den Referenzen disablen und enablen. Nachts Schmetterlinge durch Glühwürmchen ersetzen, Kerzen ausgehen lassen... alles ganz einfach! Bei den Kerzen muss man einfach eine angeschaltete Version (unter Lights) und eine ausgeschaltete Version (unter Static/Lights) mit der oben erklärten Methode ineinander stellen und die passenden Referenzen verpassen. Schon haben wir ein bisschen mehr Realismus.
<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/tag.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/tag-400x250.png" alt="tag" title="tag" width="400" height="250" class="alignnone size-thumbnail wp-image-442" /></a>
<a href="http://lumenpage.com/blog/wp-content/uploads/2009/01/nacht.png"><img src="http://lumenpage.com/blog/wp-content/uploads/2009/01/nacht-400x250.png" alt="nacht" title="nacht" width="400" height="250" class="alignnone size-thumbnail wp-image-443" /></a>
Jetzt sind wir aber wirklich fertig. Juhu!</p>

<p><strong>Und, baut ihr das jetzt ein? Habt ihr eine bessere Methode? Habe ich gar einen Fehler gemacht? Kommentarfunktion nutzen, danke. ;-)</strong></p>

	</section>
	
	<footer>
		<span class="date">18.01.2009</span>
		
		

<span class="categories"> —  
  
    <a class='category' href='/tag/articles/'>Articles</a>, <a class='category' href='/tag/beleuchtung/'>Beleuchtung</a>, <a class='category' href='/tag/modding/'>Modding</a>, <a class='category' href='/tag/nifskope/'>NifSkope</a>, <a class='category' href='/tag/oblivion/'>Oblivion</a>, <a class='category' href='/tag/scripting/'>Scripting</a>, <a class='category' href='/tag/texturieren/'>Texturieren</a>
  
</span>

	</footer>
</article>

	
	
	
	  
	  <h2 class="year">2008</h2>
	
	<article class="link archive-article">
	<header>
		
			<h1 class="link-title">
				<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/eleyon08.jpg">Tageszeitabhängige Beleuchtung</a>
				<a class="permalink" href="/post/tageszeitabhaengige-beleuchtung/">∞</a>
			</h1>
		
	</header>
	
	<section class="content">
		<p>Sowohl Oblivion als auch Morrowind ignorieren die Veränderung der Tageszeit, es gehen keine Lichter an oder aus wenn es Nacht wird. Dabei ist das doch recht einfach umzusetzen und bringt einen großen Zuwachs an Lebenendigkeit, an Atmosphäre mit sich. Außerdem ermöglicht ein Tag-Nacht-Wechsel viel abwechslungsreichere Interiors. Diese können nämlich je nach Tageszeit von bläulichem Tageslicht oder von orangenem Feuerschein beleuchtet sein. Ein nächtliche Siedlung mit orangenen Fenstern ist gleich viel lebendiger als eine scheinbare Totenstadt mit nachts unbeleuchteten Fenstern. Eine Variable Beleuchtung beschränkt sich allerdings nicht auf einen Wechsel von Tag und Nacht - nein, auch das Wetter kann berücksichtigt werden. Auch bei Nebel oder Sturm wirken beleuchtete Fenster sehr dramatisch.</p>

<p>Und wie baut man einen solchen Wechsel nun in seine Mod ein? Mir sind dazu drei Möglichkeiten bekannt, die ich hier vorstellen werde. Ein Tutorial, das genauer die Methode zwei vorstellt, ist auch in Arbeit.</p>

<!--more-->


<h4>Methode 1: Lokales Script</h4>


<p>Dies ist die offensichtlichste und einfachste Methode, einen Wechsel von Tag und Nacht umzusetzen. Man lässt auf jedem Objekt, das von der Tageszeit beeinflusst werden soll, ein entsprechendes Script laufen. Dieses muss nur die Tageszeit festellen und je nachdem den "enable" oder "disable"-Befehl auslösen. Dieses könnte dann ungefähr so aussehen:</p>

<p><code>scn LightingScript
begin gamemode
; Tag und nebelig -&gt; ein
if ( gamehour &gt;= 6 || gamehour &lt; 21 ) &amp;&amp; ( GetIsCurrentWeather Fog == 1 )
enable
endif</code></p>

<p><code>; Tag und schön -&gt; aus
if ( gamehour &gt;= 6 || gamehour &lt; 21 ) &amp;&amp; ( GetIsCurrentWeather Fog != 1 )
disable
endif</code></p>

<p><code> </code></p>

<p> </p>

<p><code>; Nacht -&gt; ein
if gamehour &gt;= 21 || gamehour &lt; 6
enable
endif
end</code></p>

<p>Natürlich muss man gegebenenfalls "disable" und "enable" vertauschen, je nach Anwendung. Eine unbeleuchtetes Fenster zum Beispiel muss ja tagsüber enabled sein.
Der große Nachteil dieser Methode ist jedoch offensichtlich: sie frisst Performance. Denn auf jedem Objekt läuft ein Script, das in jedem einzelnen Frame berechnet werden muss. Und eigentlich nur zweimal am Tag etwas tun soll...
Dazu kommt ein zweites Problem. Man muss für jedes Objekt eine jeweilige Tag- und Nacht-Version erstellen. Das ist zum Beispiel bei den Kerzen recht nervig. Oblivion liefert ja schon ausgeschaltete Versionen mit - man muss jedoch trotzdem nochmals eigene Varianten herstellen, was doch ein wenig unelegant ist.</p>

<h4>Methode 2: Globales Script und Parents</h4>


<p>[caption id="attachment_335" align="alignleft" width="400" caption="Diese Methode wird bei Eleyon eingesetzt."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/eleyon20jpg.jpeg"><img src="http://lumenpage.com/blog/wp-content/uploads/2008/12/eleyon20jpg-400x250.jpg" alt="Diese Methode wird bei Eleyon eingesetzt." title="eleyon20jpg" width="400" height="250" class="size-thumbnail wp-image-335" /></a>[/caption]Jedes Objekt in Oblivion kann eine Parent-Referenz haben, dessen Enable- und Disable-Status es teilt. Auf diesem Verhalten basiert die zweite Methode. Es wird nur jeweils ein "Meister-Objekt" für Tag und Nacht definiert.
Noch eleganter ist natürlich die Variante mit nur einer Referenz: wenn man bei den Children den Haken bei "Set Enable State to Opposite of Parent" setzt, wird der Status umgedreht.
Hat man sich nun seine Meister-Referenz(en) gebaut (die unbedingt auf "Persistent Reference" gestellt werden müssen), muss man nur noch ein simples QuestScript schreiben, das sie jeweils enabled und disabled. Das Schöne dabei ist die Variable <a href="http://cs.elderscrolls.com/constwiki/index.php/FQuestDelayTime">fQuestDelayTime</a>, die festlegt, wie oft ein QuestScript durchläuft. So wird es nicht ständig ausgeführt, sondern kann sich alle paar Minuten einschalten und die Tageszeit prüfen.
Somit ist der große Vorteil dieser Methode der Performancegewinn durch das einzelne, nicht in jedem Frame laufende Quest-Script.
Praktischerweise kann man mit dieser Methode jedes beliebige Objekt einfach tageszeitabhängig machen. Man muss keine neuen Objekte erstellen, eine kleine Einstellung bei "Enable Parent" genügt. So kann man auch schnell mal einen Schmetterling nur tagsüber fliegen lassen und ihn nachts durch Glühwürmchen ersetzen.
Der Nachteil ist jedoch eine gewisse Mehrarbeit beim Platzieren von Objekten, da jeder einzelnen Referenz der passende Parent zugewiesen werden muss. Die Abhängigkeit von Parents macht diese Methode auch unflexibler - alles wird zur gleichen Zeit verändert. Das möchte man allerdings meistens auch genau so haben. Eine Pause zwischen dem Disablen der Tagesfenster und dem Enablen der nächtlichen Fenster wäre recht unschön.</p>

<h4>Methode 3: Emissive Color</h4>


<p>[caption id="attachment_309" align="alignleft" width="400" caption="Die Fenster in Chorrol, mit Texians Methode beleuchtet."]<a href="http://lumenpage.com/blog/wp-content/uploads/2008/12/texians.png"><img class="size-thumbnail wp-image-309" title="texians" src="http://lumenpage.com/blog/wp-content/uploads/2008/12/texians-400x250.png" alt="Die Fenster in Chorrol, mit Texians Methode beleuchtet." width="400" height="250" /></a>[/caption]</p>

<p>Diese interessante, in <a href="http://www.oblivionmodwiki.com/index.php?title=Texian's_Window_Lighting_System">Texian's Window Lighting System</a> eingesetzte Methode kommt ganz ohne Scripts aus. Sie basiert auf dem Zusammenspiel der Emissive Color einer NiTriStrip und der Glowmap. Die <a href="http://cs.elderscrolls.com/constwiki/index.php/Working_With_Nifs_301_:_Properties_Breakdown">Emissive Color</a> bestimmt das Schimmern, das zunimmt, je weniger Licht auf ein Objekt fällt. Bei dieser Methode wird diese nun auf Orange gesetzt, so dass die Fenster im Dunkeln orange schimmern. Eine Glow-Map legt nun fest, welche Teile des Fensters von diesem Effekt betroffen sind - leuchtende Fensterrahmen sind nicht unbedingt erwünscht.</p>

<p>Auf diese Weise kann man Fenster nachts leuchten kann, ohne zu scripten, ohne neue Nifs zu bauen, die nur aus den Fenstern bestehen, ohne auf die Veränderung des Wetters zu achten und so weiter. Offensichtlich ist diese Methode nur für Fenster anwendbar, Lichtquellen müssen immernoch von Hand platziert und geskriptet werden.
Worin ein großer Nachteil dieses Vorgehens liegt. Denn wenn die Fenster mit ihrer Emissive Color leuchten, strahlen sie kein Licht an ihre Umgebung ab. So bleiben nahe Hauswände im Dunkeln, man sieht keinen Lichtschein aus Fenstern kommen. Daher finde ich die Beleuchtung dieser Methode, so genial sie auch ist, doch ein wenig unrealistisch und schwach. Ich bevorzuge das Zusammenspiel von veränderten Fenstertexturen und Lichtquellen. Das wirkt viel leuchtender und lebendiger.</p>

<p><strong>Und ihr? Welche Methode verwendet ihr? Oder haltet ihr eine tageszeitabhängige Beleuchtung für sinnfreie Spielerei?</strong></p>

	</section>
	
	<footer>
		<span class="date">21.12.2008</span>
		
		

<span class="categories"> —  
  
    <a class='category' href='/tag/articles/'>Articles</a>, <a class='category' href='/tag/beleuchtung/'>Beleuchtung</a>, <a class='category' href='/tag/essay/'>Essay</a>, <a class='category' href='/tag/featured/'>Featured</a>, <a class='category' href='/tag/nifskope/'>NifSkope</a>, <a class='category' href='/tag/oblivion/'>Oblivion</a>, <a class='category' href='/tag/scripting/'>Scripting</a>, <a class='category' href='/tag/texturieren/'>Texturieren</a>
  
</span>

	</footer>
</article>

	
</div>


			</div>
<div id="secondary" class="instapaper_ignore">
				<nav class="bottom">
				
				<form id="search" action="http://www.duckduckgo.com" method="get">
				  <fieldset>
					    <input type="hidden" name="sites" value="lumenlog.com" />
					    <input class="search" type="text" name="q" placeholder="Search&hellip;"/>
				  </fieldset>
				</form>
				
				<div id="nav-links">
					<a href="/about" class="nav-link">About & Colophon</a>
					<a href="/archive" class="nav-link">Archive</a>
				</div>
				</nav>
				<section id="about-english">
				<p>Oh. You made it all the way down here. Congratulations, you seem to be liking this so far. :) Time to get acquainted. I'm Marcel, this is where I put stuff on the internet. You can follow me on <a href="https://twitter.com/xartas">Twitter</a>, read the <a href="/about">about page</a> (if you're into that sort of thing) or just explore this blog. Have fun & thanks for stopping by!</p>
				</section>
				<section id="about-german">
				<p>
				Du hast es bis hier unten geschafft. Bravo, irgendwas mache ich wohl richtig. ;) Ich bin übrigens Marcel, hier schreibe ich über Sachen, die ich interessant finde. Du kannst mir auch auf <a href="https://twitter.com/xartas">Twitter</a> folgen, oder mir beim <a href="http://retinacast.de">Retinacast</a> dabei zuhören, wie ich mich mit anderen über Serien unterhalte. Oder dich einfach weiter umschauen. Viel Spaß!
				</section>
				<p class="flattr-button"><a class="FlattrButton" style="display:none;" href="http://lumenlog.com/"></a>
				<noscript><a href="http://flattr.com/thing/3276/Lumenlog" target="_blank">
				<img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a></noscript></p>
				<p class="about-flattr"><a href="http://quietube.com/v.php/http://www.youtube.com/watch?v=4Hcs7KDvDBo">Was ist Flattr?</a></p>
			</div> 
			
			
			
			<footer class="instapaper_ignore">
				<span class="copyright_link">This blog is released under a <a class="link-license" rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/de/">CC-BY-NC</a> license.</span>
				<span class="impressum_link"><a href="/impressum">Impressum</a></span>
			<span class="feed_link"></span>–
<span class="powered_link">Powered by <a href="http://octopress.org/">Octopress</a>, hosted by <a href="http://webfaction.com/">Webfaction</a> and <a href="http://haveamint.com/">Minted</a>, of course.
</span>
			</footer>
		</div>
		
		<!--[if lt IE 7 ]>
			<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
			<script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
		<![endif]-->
	</body>
</html>
